!function(e){"use strict";e.module("ngLazyLoading",[]).service("$lazyloading",["$document","$q","$timeout","$log",function(t,o,a,c){var r=!1;this.loadScript=function(e){var r=null,n=!1,i=o.defer();try{r=t[0].createElement("script"),r.src=e,r.type="text/javascript",r.async=!0,r.onload=r.onreadystatechange=function(t){var o=this;a(function(){n||o.readyState&&"loaded"!==o.readyState&&"complete"!==o.readyState?(c.error(t),i.reject("Unable to load "+e)):(n=!0,r.onload=r.onreadystatechange=null,i.resolve())})},r.onerror=function(t){c.error(t),i.reject("Unable to load "+e)},t[0].body.appendChild(r)}catch(l){c.error(l),i.reject(l)}return i.promise},this.loadFBScript=function(t,a,c){var n=o.defer();try{a=e.isDefined(a)&&""!==a?a:"en_US",c=e.isDefined(c)&&""!==c?c:"v2.2",e.isDefined(t)&&""!==t?r?n.resolve(FB):this.loadScript("//connect.facebook.net/"+a+"/sdk.js")["catch"](function(e){n.reject(e)}).then(function(){try{FB&&"function"==typeof FB.init&&"function"==typeof FB.getLoginStatus?(r||(FB.init({appId:t,cookie:!0,oauth:!0,status:!0,version:c,xfbml:!0}),r=!0),n.resolve(FB)):n.reject("Unable to load Facebook tools.")}catch(e){n.reject(e)}}):n.reject("Missing p_sFBID.")}catch(i){n.reject(i)}return n.promise},this.loadGAScript=function(t){var a=o.defer();try{e.isDefined(t)&&""!==t?this.loadScript("//www.google-analytics.com/analytics.js")["catch"](function(e){a.reject(e)}).then(function(){try{"function"!=typeof ga?a.reject("Unable to load Google Analytics."):(ga("create",t,"auto"),ga("require","displayfeatures"),a.resolve())}catch(e){a.reject(e)}}):a.reject("Missing p_sGAID.")}catch(c){a.reject(c)}return a.promise},this.loadCaptchaScript=function(){var e="//www.google.com/recaptcha/api.js?onload=onLoadCaptchaScriptCallback&render=explicit",t=o.defer();try{window.onLoadCaptchaScriptCallback=function(){t.resolve(grecaptcha)},this.loadScript(e)["catch"](function(e){t.reject(e)})}catch(a){t.reject(a)}return t.promise}}])}(angular);
