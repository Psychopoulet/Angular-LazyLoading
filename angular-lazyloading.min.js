!function(e){"use strict";e.module("ngLazyLoading",[]).service("$lazyloading",["$document","$q","$timeout","$log",function(t,c,r,i){var o=[],a=!1;this.loadScript=function(e){var o=null,a=c.defer();try{o=t[0].createElement("script"),o.onload=o.onreadystatechange=function(){r(function(){a.resolve()})},o.onerror=function(t){i.error(t),a.reject("Impossible to load "+e)},o.src=e,t[0].body.appendChild(o)}catch(n){i.error(n),a.reject(n)}return a.promise},this.loadScriptCached=function(e){var t=c.defer();try{this.isLoaded(e)?t.resolve():this.loadScript(e).then(function(){o.push(e),t.resolve()})["catch"](function(e){t.reject(e)})}catch(r){t.reject(r)}return t.promise},this.loadFBScript=function(t,r,i){var o=c.defer();try{r=e.isDefined(r)&&""!==r?r:"en_US",i=e.isDefined(i)&&""!==i?i:"v2.2",e.isDefined(t)&&""!==t?a?o.resolve(FB):this.loadScriptCached("//connect.facebook.net/"+r+"/sdk.js").then(function(){try{a||(FB.init({appId:t,cookie:!0,oauth:!0,status:!0,version:i,xfbml:!0}),a=!0),o.resolve(FB)}catch(e){o.reject(e)}})["catch"](function(e){o.reject(e)}):o.reject("Missing p_sFBID.")}catch(n){o.reject(n)}return o.promise},this.loadGAScript=function(t){var r=c.defer();if(e.isDefined(t)&&""!==t)try{this.loadScriptCached("//www.google-analytics.com/analytics.js").then(function(){try{ga("create",t,"auto"),ga("require","displayfeatures"),r.resolve()}catch(e){r.reject(e)}})["catch"](function(e){r.reject(e)})}catch(i){r.reject(i)}else r.reject("Missing p_sGAID.");return r.promise},this.loadCaptchaScript=function(){var e="//www.google.com/recaptcha/api.js?onload=onLoadCaptchaScriptCallback&render=explicit",t=c.defer();try{this.isLoaded(e)?t.resolve(grecaptcha):(window.onLoadCaptchaScriptCallback=function(){t.resolve(grecaptcha)},this.loadScriptCached(e)["catch"](function(e){t.reject(e)}))}catch(r){t.reject(r)}return t.promise},this.isLoaded=function(e){for(var t=0,c=o.length;c>t;t++)if(o[t]==e)return!0;return!1}}])}(angular);
